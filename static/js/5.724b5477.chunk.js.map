{"version":3,"sources":["components/common/ControlForm/ControlForm.module.css","helpers/validators.jsx","components/common/ControlForm/ControlForm.jsx","components/Dialogs/Dialogs.module.css","components/HOC/withAuthRedirect.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","required","value","maxLength","length","Textarea","input","meta","props","hasError","touched","error","className","classes","formControl","Input","withAuthRedirect","Component","this","isAuth","to","React","DialogItem","path","id","dialogUser","name","SmsText","message","sms","maxLength50","DialogReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","Dialogs","state","messagePage","dialogsElements","dialogs","map","d","messagesElements","m","messages","values","sendMessage","newMessageText","compose","connect","auth","dispatch","sendMessageCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,UAAY,iC,iCCDhH,6EAEaC,EAAW,SAAAC,GACpB,IAAIA,EACJ,MAAO,qBAGEC,EAAY,SAACA,GAAD,OAAe,SAACD,GACrC,GAAIA,EAAME,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,c,mJCLrBE,EAAW,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASC,EAAW,gCAE3CC,EAAWF,EAAKG,SAAWH,EAAKI,MAEtC,OACI,yBAAKC,UAAWC,IAAQC,YAAc,GAAKD,IAAQF,OAC/C,8CAAcL,EAAWE,IACvBC,GAAY,8BAAOF,EAAKI,SAMzBI,EAAQ,SAAC,GAA6B,IAA5BT,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASC,EAAW,gCACxCC,EAAWF,EAAKG,SAAWH,EAAKI,MAEtC,OACI,yBAAKC,UAAWC,IAAQC,YAAc,GAAKD,IAAQF,OAC/C,2CAAWL,EAAWE,IACpBC,GAAY,8BAAOF,EAAKI,U,oBCrBtCZ,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,WAAa,4BAA4B,SAAW,0BAA0B,QAAU,2B,8HCEjKgB,EAAmB,SAACC,GAO7B,OAP2C,uKAGnC,OAAKC,KAAKV,MAAMW,OACT,kBAACF,EAAcC,KAAKV,OADI,kBAAC,IAAD,CAAUY,GAAG,eAHT,GACXC,IAAMJ,a,sFCU3BK,EATI,SAACd,GAChB,IAAIe,EAAO,YAAcf,EAAMgB,GAC/B,OACI,yBAAKZ,UAAWC,IAAQY,YACpB,kBAAC,IAAD,CAASL,GAAIG,GAAOf,EAAMkB,Q,QCAvBC,EANC,SAACnB,GACb,OACI,yBAAKI,UAAWC,IAAQe,SAAUpB,EAAMqB,M,6CCwC1CC,EAAc3B,YAAU,IAkBxB4B,EAAkBC,YAAU,CAC9BC,KAAM,qBADcD,EAhBL,SAACxB,GAChB,OACI,0BAAM0B,SAAU1B,EAAM2B,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWhC,IACXqB,KAAM,iBACNY,YAAa,qBACbC,SAAU,CAACtC,IAAU6B,MAEhC,6BACI,6CAWDU,EAvDC,SAAChC,GAEb,IAAIiC,EAAQjC,EAAMkC,YAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYpB,KAAMoB,EAAEpB,KAAMF,GAAIsB,EAAEtB,QACzEuB,EAAmBN,EAAMb,QAAQiB,KAAI,SAAAG,GAAC,OAAI,kBAAC,EAAD,CAASnB,IAAKmB,EAAEnB,SAQ9D,OACI,yBAAKjB,UAAWC,IAAQ+B,SACpB,yBAAKhC,UAAWC,IAAQY,YAClBkB,GAEN,yBAAK/B,UAAWC,IAAQoC,UACpB,6BAAMF,GAON,kBAAChB,EAAD,CAAiBG,SAjBT,SAACgB,GACjB1C,EAAM2C,YAAYD,EAAOE,sB,gBCElBC,sBACXC,aAhBkB,SAACb,GACnB,MAAO,CACHC,YAAaD,EAAMC,YACnBvB,OAAQsB,EAAMc,KAAKpC,WAIF,SAACqC,GACtB,MAAO,CACHL,YAAa,SAACC,GACVI,EAASC,YAAmBL,SAOpCpC,IAFWqC,CAGbb","file":"static/js/5.724b5477.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"ControlForm_formControl__5x98l\",\"error\":\"ControlForm_error__18Hk7\",\"formError\":\"ControlForm_formError__3imfo\"};","import React from \"react\";\r\n\r\nexport const required = value => {\r\n    if (value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./ControlForm.module.css\"\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={classes.formControl + \"\" + classes.error}>\r\n            <textarea {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={classes.formControl + \"\" + classes.error}>\r\n            <input {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2yxT6\",\"dialog\":\"Dialogs_dialog__3Cc2a\",\"dialogUser\":\"Dialogs_dialogUser__2fEZN\",\"messages\":\"Dialogs_messages__1fdHW\",\"message\":\"Dialogs_message__2_wCQ\"};","import React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    return RedirectComponent;\r\n}\r\n\r\n","import React from \"react\";\r\nimport classes from \"./../Dialogs.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id\r\n    return (\r\n        <div className={classes.dialogUser}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DialogItem;","import classes from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\n\r\nconst SmsText = (props) => {\r\n    return(\r\n        <div className={classes.message}>{props.sms}</div>\r\n    )\r\n};\r\n\r\nexport default SmsText;","import React from \"react\";\r\nimport classes from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport SmsText from \"./Message/Message\";\r\nimport {sendMessageCreator, updateNewMessageTextCreator} from \"../../Redux/messagePage-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../helpers/validators\";\r\nimport {Textarea} from \"../common/ControlForm/ControlForm\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.messagePage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} id={d.id} />);\r\n    let messagesElements = state.message.map(m => <SmsText sms={m.sms} />);\r\n    // let newMessageText = state.newMessageText;\r\n\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageText);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.dialogUser}>\r\n                { dialogsElements }\r\n            </div>\r\n            <div className={classes.messages}>\r\n                <div>{messagesElements}</div>\r\n                {/*<div>*/}\r\n                {/*    <div><textarea value={ newMessageText }*/}\r\n                {/*                   placeholder=\"Enter your message\"*/}\r\n                {/*                   onChange={ onNewMessageChange } ></textarea></div>*/}\r\n                {/*    <div><button onClick={ onSendMessageClick }></button> SEND </div>*/}\r\n                {/*</div>*/}\r\n                <DialogReduxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst maxLength50 = maxLength(50)\r\n\r\nconst DialogForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       name={\"newMessageText\"}\r\n                       placeholder={\"Enter your message\"}\r\n                       validate={[required, maxLength50]}/>\r\n            </div>\r\n            <div>\r\n                <button>SEND</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst DialogReduxForm = reduxForm({\r\n    form: \"messageDialogForm\"\r\n})(DialogForm)\r\n\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport classes from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport {sendMessageCreator} from \"../../Redux/messagePage-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagePage: state.messagePage,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageText) => {\r\n            dispatch(sendMessageCreator(newMessageText))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect,\r\n)(Dialogs)\r\n"],"sourceRoot":""}